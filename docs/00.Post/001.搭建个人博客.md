---
title: Blog——改容更貌
subtitle: About my blog
date: 2022-11-23 09:54:57
permalink: /pages/08c63e/
post: true
img: /img/bg.jpeg
sidebar: false
---

之前的博客也捣鼓了很久，但开始审美疲劳了，最近有点空余时间，手动换一下样式。

<!-- more -->

> 之前的博客也捣鼓了很久，但开始审美疲劳了，最近有点空余时间，想换个风格。发现Gungnir很好看，但捣鼓了一天后，发现一些不足，在修改过程中，由于本人不擅长前端代码，一些关键代码难以修改。而vdoing的工具链及注释都很清楚，遂决定重新搭建一个基于voding主题的Gungnir风格博客。感谢两位大佬。下一个目标，学一下vue，从头开发一个vuepress主题。

## 介绍

本站使用`vuepress`+`github`+`vercel`搭建而成。vuepress作为博客模板，github作为项目仓库，利用vercel自动部署项目。

使用`vdoing`作为模板，参考`Gungnir`作为主题色修改。

## 用法

#### 代码块选项卡


```md
<code-group>
  <code-block title="YARN" active>
	yarn code
  </code-block>
  <code-block title="NPM">
	npm code
  </code-block>
</code-group>
```



<code-group>
  <code-block title="YARN" active>

```
yarn code
```

  </code-block>
  <code-block title="NPM">

```
npm code
```

  </code-block>
</code-group>



## 修改记录

### 主题颜色

> 暂时只修改了深色模式

```css
// vdoing\styles\palette.styl
// 深色模式
.theme-mode-dark
  --bodyBg: #2d3746
  --mainBg: #2d3746
  --sidebarBg: rgba(45, 55, 71, .9)
  --blurBg: rgba(45, 55, 71, .9)
  --customBlockBg: #404d61
  --textColor: #ffffffcc
  --textLightenColor: #96c2eb
  // --borderColor: #2C2C3A
  --borderColor: #5c6e8b
  --codeBg: #282c34
  --codeColor: #fff
  codeThemeDark()
```

### 新增大图页

<code-group>
  <code-block title="Wiki" active>

![image-20221126105902092](https://s2.loli.net/2022/11/26/12z5nhRGNbu7avm.png)

  </code-block>

  <code-block title="About">

![image-20221126110616979](https://s2.loli.net/2022/11/26/9pVob6gLwFZu1Sq.png)

  </code-block>
</code-group>

在本博客中有三种文章类型

- Post：一些个人的思考文章
- Blog：一些问题的解决方案
- Docs：用于记录个人常用的技术文档

|      | 首页大图 | 归档 |
| :--: | :------: | :--: |
| Post |    √     |  √   |
| Blog |    x     |  √   |
| Docs |    x     |  x   |

### 修复移动端左右滑动问题

主要现象就是在移动端可以左右滑动，但实际上页面中并没有需要左右滑动的内容。

```css
/* 解决页面左右溢出 */
html,
body {
  max-width: 100%;
  overflow-x: hidden;
}
```

### 分类/标签降序排列

```js {23-29}
/**
 * 获取所有分类和标签
 * @param {Object} groupPosts 按分类和标签分组之后的文章数据
 */
export function categoriesAndTags (groupPosts) {
  const categoriesArr = []
  const tagsArr = []

  for (let key in groupPosts.categories) {
    categoriesArr.push({
      key,
      length: groupPosts.categories[key].length
    })
  }

  for (let key in groupPosts.tags) {
    tagsArr.push({
      key,
      length: groupPosts.tags[key].length
    })
  }

  categoriesArr.sort((prev, next) => {
    return next.length - prev.length
  })
  
  tagsArr.sort((prev, next) => {
    return next.length - prev.length
  })

  return {
    categories: categoriesArr,
    tags: tagsArr
  }
}
```






## todo

- banner到顶时自动变透明
- tags头图
- 文章内头图
- post奇偶位置

## Feature

未来有时间的话，还是希望能好好学一下Vue，自己开发一套博客模板。
